#if __DESIGNER_DATA
#error Do not define __DESIGNER_DATA.
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<om:MetaModel MajorVersion="1" MinorVersion="3" Core="2b131234-7959-458d-834f-2dc0769ce683" ScheduleModel="66366196-361d-448d-976f-cab5e87496d2" xmlns:om="http://schemas.microsoft.com/BizTalk/2003/DesignerData">
    <om:Element Type="Module" OID="f743a864-8c19-4c3b-8590-a07330dd9f8e" LowerBound="1.1" HigherBound="457.1">
        <om:Property Name="ReportToAnalyst" Value="True" />
        <om:Property Name="Name" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed" />
        <om:Property Name="Signal" Value="False" />
        <om:Element Type="ServiceDeclaration" OID="d168a515-6d9f-4c80-a013-ace57a1671b7" ParentLink="Module_ServiceDeclaration" LowerBound="4.1" HigherBound="456.1">
            <om:Property Name="InitializedTransactionType" Value="True" />
            <om:Property Name="IsInvokable" Value="True" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="AnalystComments" Value="// Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.CustomerService&#xD;&#xA;// Customer Service orchestration in the end to end Service Oriented Scenario.&#xD;&#xA;// &#xD;&#xA;//&#xD;&#xA;// Copyright (c) Microsoft Corporation. All rights reserved.&#xD;&#xA;// THIS CODE AND INFORMATION ARE PROVIDED &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, &#xD;&#xA;// EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES &#xD;&#xA;// OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE." />
            <om:Property Name="Name" Value="CustomerService" />
            <om:Property Name="Signal" Value="True" />
            <om:Element Type="VariableDeclaration" OID="9045054d-06ff-4776-a314-31d764136fb1" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="25.1" HigherBound="26.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="accountNumber" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="a7edb1d8-cb37-4dc1-a4e7-0b325a534399" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="26.1" HigherBound="27.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="customerName" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="f8354bc2-d3c7-40ac-90d1-25a9222df71f" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="27.1" HigherBound="28.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="zipCode" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="fd143cd4-4c9f-4de2-899e-b448f94c588e" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="28.1" HigherBound="29.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="RequestIsValid" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="28657a42-37be-41a2-8194-71e378547520" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="29.1" HigherBound="30.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="ssoTicket" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="24b70af5-40ba-42e9-93b3-93188b640d1f" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="30.1" HigherBound="31.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="errorLastPayments" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="555e8943-6ea7-4965-afbc-f0a882d9003c" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="31.1" HigherBound="32.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="errorPendingTransactions" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="85cec902-6a8e-4467-8a04-8d7f43e5bd73" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="32.1" HigherBound="33.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="errorCreditLimit" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="c1e34c52-69ae-4055-84f7-05272719e448" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="33.1" HigherBound="34.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="beginCreditLimitTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="7e134336-874f-4b89-a819-6530498c9c97" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="34.1" HigherBound="35.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="endCreditLimitTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="69e4eacf-7d18-46e1-8b2a-03f76317a2e8" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="35.1" HigherBound="36.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="beginLastPaymentTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="6f7501d2-fb04-4b34-97bc-577234390506" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="36.1" HigherBound="37.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="endLastPaymentTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="3c54a4ec-2f5e-4e18-9448-32b3b6566f9b" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="37.1" HigherBound="38.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="beginPendingTransTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="d513484a-a575-40ac-864b-14bd8aab588f" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="38.1" HigherBound="39.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="endPendingTransTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="1da2f013-67d5-4290-bcdc-bde986c7b592" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="39.1" HigherBound="40.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.TimeSpan" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="creditLimitDuration" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="1270ba83-8cdb-4078-846a-a44d460f5edd" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="40.1" HigherBound="41.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.TimeSpan" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="lastPaymentDuration" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="7ede12a0-02a9-4383-b429-5d0b992d87d5" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="41.1" HigherBound="42.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.TimeSpan" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="pendingTransDuration" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="9e5f9566-fd11-4546-a1f6-85e421358c2b" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="42.1" HigherBound="43.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="activityID" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="b8010821-d8fb-4f4d-a116-3cd05578b434" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="43.1" HigherBound="44.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="beginTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="c39aa76f-f4a2-4d7f-8d90-9cb3c5bba3c6" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="44.1" HigherBound="45.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.DateTime" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="endTime" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="d06752af-a4ef-4372-bf12-39fbd89871c7" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="45.1" HigherBound="46.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.TimeSpan" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="timeTaken" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="448fea80-9435-4ca6-8bcf-c9e38c997c31" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="46.1" HigherBound="47.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="originatorSID" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="335488ef-518b-45a4-b960-a1a7441c6a17" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="47.1" HigherBound="48.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="sapReturnCode" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="3aeb5903-ecb0-4f55-8446-d0c5a32be503" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="48.1" HigherBound="49.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="sapTimeout" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="e8011bb8-6517-48cc-bcd3-d411ea6fb924" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="49.1" HigherBound="50.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="pendTransTimeout" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="720bfd0a-3df0-4411-a312-a879ec074000" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="50.1" HigherBound="51.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="pmntTrackTimeout" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="LongRunningTransaction" OID="06ddf0fd-d20c-418a-b5c8-4c379994efeb" ParentLink="ServiceDeclaration_Transaction" LowerBound="5.21" HigherBound="5.61">
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="CustomerServiceBusinessProcess" />
                <om:Property Name="Signal" Value="False" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="cc8c5dc3-fd94-4c49-9a92-2b4cfbf9f7dc" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="13.1" HigherBound="14.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.LastPaymentRequest" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="LastPaymentRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="9f493cad-606a-4ac8-bef0-d6295cdceea0" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="14.1" HigherBound="15.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.LastPaymentResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="LastPaymentResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="fbb4f775-afcb-45de-baa2-504206e5f7bb" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="15.1" HigherBound="16.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPendTransWS.StubPendingTransactionsWebService_.GetPendingTransactions_request" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PendingTransactionsWSRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="51852511-b09d-4d3a-b88c-dc5092dc2510" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="16.1" HigherBound="17.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPendTransWS.StubPendingTransactionsWebService_.GetPendingTransactions_response" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PendingTransactionsWSResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="461d35b8-66f7-47d9-a09c-73dd5a6ac457" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="17.1" HigherBound="18.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.BAPI_BANKACCT_GET_DETAIL.BAPI_BANKACCT_GET_DETAIL_Request" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="CreditLimitRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="a62f606e-7507-46ca-920e-ca6e150a2b7f" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="18.1" HigherBound="19.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.BAPI_BANKACCT_GET_DETAIL.BAPI_BANKACCT_GET_DETAIL_Response" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="CreditLimitResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="d1774591-5425-49b2-84f8-b06072dc667f" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="19.1" HigherBound="20.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.PendingTransactionsRequest" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PendingTransactionsRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="65fa1551-d3bb-4808-ad6a-25683d231b7b" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="20.1" HigherBound="21.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.PendingTransactionsResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PendingTransactionsResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="4a0e5d64-2652-4aef-b586-4e6a65310be1" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="21.1" HigherBound="22.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPmntTrckWS.StubPaymentTrackerWebService_.GetLastPayments_request" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PaymentTrackerWSRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="d469a5b1-9f1e-4542-8442-17f6e5264968" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="22.1" HigherBound="23.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPmntTrckWS.StubPaymentTrackerWebService_.GetLastPayments_response" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PaymentTrackerWSResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="9d352f5e-7f7e-416b-b43a-10a8bed707f3" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="23.1" HigherBound="24.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubSAPWS.StubSAPWS_.GetAccountDetails_request" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="StubSAPWSRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="7aa1cd61-e4d8-4368-a14a-25329b7093a7" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="24.1" HigherBound="25.1">
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubSAPWS.StubSAPWS_.GetAccountDetails_response" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="StubSAPWSResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="ServiceBody" OID="a3cc254f-22a2-48a0-95d9-788ea1320c82" ParentLink="ServiceDeclaration_ServiceBody">
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageDeclaration" OID="ee659c09-9ccb-45a4-90bc-03fb0bf3dfac" ParentLink="ServiceBody_Declaration" LowerBound="51.15" HigherBound="51.116">
                    <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceRequest" />
                    <om:Property Name="ParamDirection" Value="In" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="CustomerServiceRequest" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
                <om:Element Type="MessageDeclaration" OID="5cc7c42c-8ff0-4fcf-92f0-c66c1475692d" ParentLink="ServiceBody_Declaration" LowerBound="51.118" HigherBound="51.225">
                    <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceResponse" />
                    <om:Property Name="ParamDirection" Value="Out" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="CustomerServiceResponse" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
                <om:Element Type="Scope" OID="fd1b8c03-9639-45f2-a5d8-4ec620f6f729" ParentLink="ServiceBody_Statement" LowerBound="64.1" HigherBound="454.1">
                    <om:Property Name="InitializedTransactionType" Value="True" />
                    <om:Property Name="IsSynchronized" Value="False" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="HandleExceptions" />
                    <om:Property Name="Signal" Value="True" />
                    <om:Element Type="LongRunningTransaction" OID="39017f42-f592-47d7-ae10-fc1c4f1d9183" ParentLink="Scope_Transaction" LowerBound="65.18" HigherBound="65.69">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="CustomerServiceTransaction" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="1be60852-ac5a-451f-8512-48e7b37bf9a8" ParentLink="ComplexStatement_Statement" LowerBound="69.1" HigherBound="80.1">
                        <om:Property Name="Expression" Value="// Begin the BAM activity&#xD;&#xA;&#xD;&#xA;activityID = Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.BeginRequest(CustomerServiceRequest.RequestSource, CustomerServiceRequest.RequestType);&#xD;&#xA;&#xD;&#xA;// Save starting time for later computing response times...&#xD;&#xA;beginTime = System.DateTime.Now;&#xD;&#xA;&#xD;&#xA;// Request Received Milestone&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestReceived(activityID);&#xD;&#xA;        " />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="BeginActivity" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="130f66ca-1ac6-4b47-b0a7-ae2875d2ff1c" ParentLink="ComplexStatement_Statement" LowerBound="80.1" HigherBound="93.1">
                        <om:Property Name="Expression" Value="sapTimeout = System.Convert.ToInt32 (&#xD;&#xA;        Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(&#xD;&#xA;            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.SapAdapterTimeout),&#xD;&#xA;        System.Globalization.CultureInfo.CurrentCulture);&#xD;&#xA;pendTransTimeout = System.Convert.ToInt32(&#xD;&#xA;        Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(&#xD;&#xA;            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.PendingTransactionsAdapterTimeout),&#xD;&#xA;        System.Globalization.CultureInfo.CurrentCulture);&#xD;&#xA;pmntTrackTimeout = System.Convert.ToInt32(&#xD;&#xA;        Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(&#xD;&#xA;            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.PaymentTrackingAdapterTimeout),&#xD;&#xA;        System.Globalization.CultureInfo.CurrentCulture);" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="GetTimeoutValues" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="618154cb-f61d-4a73-8ab5-064e94804239" ParentLink="ComplexStatement_Statement" LowerBound="93.1" HigherBound="102.1">
                        <om:Property Name="Expression" Value="// Validate the input request based on the contents of the AuthenticationInfo element.&#xD;&#xA;// The AuthenticationInfo elements contains name/value pairs for authenticating the customer&#xD;&#xA;// We must either have a ZipCode or a CustomerName to declare that this a valid request.&#xD;&#xA;// Validating the message based on the contents of the request is done in one or more&#xD;&#xA;// of the back end systems...&#xD;&#xA;&#xD;&#xA;customerName  = (System.String) xpath(CustomerServiceRequest, &#xD;&#xA;&quot;string(/*[local-name()='CustomerServiceRequest']/*[local-name()='Body']/*[local-name()='AuthenticationInfo'][DataElementName='CustomerName']/*[local-name()='DataElementValue'])&quot;);&#xD;&#xA;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ExtractCustomerName" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="60cf248e-f3e1-4140-8206-cf7a44606e1f" ParentLink="ComplexStatement_Statement" LowerBound="102.1" HigherBound="107.1">
                        <om:Property Name="Expression" Value="//Get the zipCode out of the message...&#xD;&#xA;&#xD;&#xA;zipCode = (System.String) xpath(CustomerServiceRequest, &#xD;&#xA;&quot;string(/*[local-name()='CustomerServiceRequest']/*[local-name()='Body']/*[local-name()='AuthenticationInfo'][DataElementName='ZipCode']/*[local-name()='DataElementValue'])&quot;);&#xD;&#xA;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ExtractZipCode" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="26e8e375-203e-4aad-95a7-fc9dcbb7db90" ParentLink="ComplexStatement_Statement" LowerBound="107.1" HigherBound="111.1">
                        <om:Property Name="Expression" Value="//Get the Account Number out of the message...&#xD;&#xA;&#xD;&#xA;accountNumber = CustomerServiceRequest.Body.AccountNumber;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ExtractAccountNumber" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="38ded481-39cf-494e-b7eb-4c7bcb85d0f2" ParentLink="ComplexStatement_Statement" LowerBound="111.1" HigherBound="118.1">
                        <om:Property Name="Expression" Value="// One of the authentication values must be there in the message in order to proceed&#xD;&#xA;// And the account number must be there also.&#xD;&#xA;// And the account number must be valid...&#xD;&#xA;RequestIsValid = (zipCode != &quot;&quot; || customerName != &quot;&quot;) &amp;&amp; &#xD;&#xA;                    accountNumber != &quot;&quot; &amp;&amp;&#xD;&#xA;                    Microsoft.Samples.BizTalk.WoodgroveBank.Utilities.CustomerServiceHelper.IsAccountNumberValid(accountNumber) ;&#xD;&#xA;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ValidateRequest" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="a906930a-c276-4e60-8dee-82e85786f2bb" ParentLink="ComplexStatement_Statement" LowerBound="118.1" HigherBound="413.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="IsRequestValid" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="6e14364b-4934-43a6-9ee8-04eac3591a4b" ParentLink="ReallyComplexStatement_Branch" LowerBound="119.21" HigherBound="394.1">
                            <om:Property Name="Expression" Value="RequestIsValid " />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="IsValid" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Parallel" OID="fa8184fc-286c-4670-916a-11e9f805a7f5" ParentLink="ComplexStatement_Statement" LowerBound="121.1" HigherBound="362.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="CollectAccountInformations" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="ParallelBranch" OID="2841199c-4553-4cd9-a17d-8f9ea0765454" ParentLink="ReallyComplexStatement_Branch" LowerBound="126.1" HigherBound="211.1">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="ParallelBranch_1" />
                                    <om:Property Name="Signal" Value="False" />
                                    <om:Element Type="Construct" OID="e5169b60-24d6-4885-af33-74d9102ed252" ParentLink="ComplexStatement_Statement" LowerBound="126.1" HigherBound="132.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructCreditLimitRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="Transform" OID="cb744ab2-e9b3-4b23-9c31-587adb18ce5c" ParentLink="ComplexStatement_Statement" LowerBound="129.1" HigherBound="131.1">
                                            <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CreditLimiRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="CreateCreditLimitRequest" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="MessagePartRef" OID="76b1a040-fbb4-4ad4-aed7-ebe3b0d2ce92" ParentLink="Transform_InputMessagePartRef" LowerBound="130.160" HigherBound="130.182">
                                                <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_3" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="28422c20-52f4-4e3f-adfd-c7ac192127a0" ParentLink="Transform_OutputMessagePartRef" LowerBound="130.48" HigherBound="130.66">
                                                <om:Property Name="MessageRef" Value="CreditLimitRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_4" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="54cb0bd0-2a6d-47a9-b298-4cbf04d41164" ParentLink="Construct_MessageRef" LowerBound="127.43" HigherBound="127.61">
                                            <om:Property Name="Ref" Value="CreditLimitRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="2afe7bce-0978-49fe-b1be-cd744645d460" ParentLink="ComplexStatement_Statement" LowerBound="132.1" HigherBound="134.1">
                                        <om:Property Name="Expression" Value="beginCreditLimitTime = System.DateTime.Now;" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="AssignBeginTime" />
                                        <om:Property Name="Signal" Value="False" />
                                    </om:Element>
                                    <om:Element Type="Construct" OID="eeab6cdd-909e-4862-90e7-a26c618d2925" ParentLink="ComplexStatement_Statement" LowerBound="134.1" HigherBound="140.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructSAPWSRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="MessageAssignment" OID="0a8352a7-3a14-4ac6-bdc0-9ad34bbc6391" ParentLink="ComplexStatement_Statement" LowerBound="137.1" HigherBound="139.1">
                                            <om:Property Name="Expression" Value="StubSAPWSRequest.BAPI_BANKACCT_GET_DETAIL_Request = CreditLimitRequest;" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="CopyToSAPWSRequest" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="663d822a-46e5-4970-a765-ab43002ca96e" ParentLink="Construct_MessageRef" LowerBound="135.43" HigherBound="135.59">
                                            <om:Property Name="Ref" Value="StubSAPWSRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="Send" OID="8661661c-ee61-4718-868a-64f00a60960d" ParentLink="ComplexStatement_Statement" LowerBound="140.1" HigherBound="142.1">
                                        <om:Property Name="PortName" Value="SAPSystemRequestResponsePort" />
                                        <om:Property Name="MessageName" Value="StubSAPWSRequest" />
                                        <om:Property Name="OperationName" Value="GetAccountDetails" />
                                        <om:Property Name="OperationMessageName" Value="Request" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="SendCreditLimitRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                    <om:Element Type="Scope" OID="ba9f57c2-44d7-4eff-88dd-7fca8f0b19a7" ParentLink="ComplexStatement_Statement" LowerBound="142.1" HigherBound="188.1">
                                        <om:Property Name="InitializedTransactionType" Value="True" />
                                        <om:Property Name="IsSynchronized" Value="False" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="SAPTimeoutDetectionScope" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="LongRunningTransaction" OID="0ef2d576-8d40-4e55-b1da-2b69759cdc9e" ParentLink="Scope_Transaction" LowerBound="143.38" HigherBound="143.144">
                                            <om:Property Name="TimeoutExpression" Value="new System.TimeSpan(0, 0, 0, 0, sapTimeout )" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ReceiveSAPResponseWithinTime" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Receive" OID="bd87bfd0-ecdd-4f63-9390-b109101bf0b2" ParentLink="ComplexStatement_Statement" LowerBound="147.1" HigherBound="149.1">
                                            <om:Property Name="Activate" Value="False" />
                                            <om:Property Name="PortName" Value="SAPSystemRequestResponsePort" />
                                            <om:Property Name="MessageName" Value="StubSAPWSResponse" />
                                            <om:Property Name="OperationName" Value="GetAccountDetails" />
                                            <om:Property Name="OperationMessageName" Value="Response" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ReceiveCreditLimitResponse" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="Construct" OID="e800a278-dc22-4fb8-9083-68ef2106e139" ParentLink="ComplexStatement_Statement" LowerBound="149.1" HigherBound="155.1">
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="RetriveSAPResults" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="MessageAssignment" OID="e45100d8-d61b-4db4-ac8c-df3e1bb806b6" ParentLink="ComplexStatement_Statement" LowerBound="152.1" HigherBound="154.1">
                                                <om:Property Name="Expression" Value="CreditLimitResponse = StubSAPWSResponse.GetAccountDetailsResult;" />
                                                <om:Property Name="ReportToAnalyst" Value="False" />
                                                <om:Property Name="Name" Value="RetrieveResponse" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="MessageRef" OID="0f165a76-4994-4d0e-b376-26583a2e0a8f" ParentLink="Construct_MessageRef" LowerBound="150.51" HigherBound="150.70">
                                                <om:Property Name="Ref" Value="CreditLimitResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="VariableAssignment" OID="cbe12065-a1d1-45ee-8bdd-8ac586ab85bd" ParentLink="ComplexStatement_Statement" LowerBound="155.1" HigherBound="162.1">
                                            <om:Property Name="Expression" Value="// Examine the SAP return code&#xD;&#xA;&#xD;&#xA;sapReturnCode = (System.String) xpath(CreditLimitResponse, &#xD;&#xA;&quot;string(/*[local-name()='BAPI_BANKACCT_GET_DETAIL_Response']/*[local-name()='E_RC'])&quot;);&#xD;&#xA;&#xD;&#xA;errorCreditLimit = sapReturnCode != &quot;&quot;;" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ExamineForError" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Catch" OID="4a269b78-ebe2-44e2-802c-255f0f38ef94" ParentLink="Scope_Catch" LowerBound="165.1" HigherBound="186.1">
                                            <om:Property Name="ExceptionName" Value="sapTimeoutException" />
                                            <om:Property Name="ExceptionType" Value="Microsoft.XLANGs.BaseTypes.TimeoutException" />
                                            <om:Property Name="IsFaultMessage" Value="False" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="SAPTimeoutHandler" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="VariableAssignment" OID="806b0e50-c920-4416-aada-c4b32c6028e2" ParentLink="Catch_Statement" LowerBound="168.1" HigherBound="172.1">
                                                <om:Property Name="Expression" Value="errorCreditLimit = true;&#xD;&#xA;&#xD;&#xA;sapReturnCode = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.SapTimeoutErrorCode() ;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="AssignTimeoutError" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="VariableAssignment" OID="e98d186c-5480-4047-9e14-9cd9c559af67" ParentLink="Catch_Statement" LowerBound="172.1" HigherBound="174.1">
                                                <om:Property Name="Expression" Value="System.Diagnostics.Trace.WriteLine(&quot;Timeout from SAP&quot;);&#xD;&#xA;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="Trace" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="Construct" OID="ce80b779-0457-4dc7-839a-2927743656e0" ParentLink="Catch_Statement" LowerBound="174.1" HigherBound="180.1">
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="ConstructCreditLimitResponeMessage" />
                                                <om:Property Name="Signal" Value="True" />
                                                <om:Element Type="Transform" OID="26da375a-e313-43e7-86ca-bbbaed50b7a3" ParentLink="ComplexStatement_Statement" LowerBound="177.1" HigherBound="179.1">
                                                    <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CreditLimitResponse" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Name" Value="CreateCreditLimitResponseMessage" />
                                                    <om:Property Name="Signal" Value="True" />
                                                    <om:Element Type="MessagePartRef" OID="41016f45-f2c3-4af6-8055-7f21e6d8e6a7" ParentLink="Transform_InputMessagePartRef" LowerBound="178.175" HigherBound="178.197">
                                                        <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_23" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                    <om:Element Type="MessagePartRef" OID="64345854-2326-444a-857e-f9b3258e423e" ParentLink="Transform_OutputMessagePartRef" LowerBound="178.60" HigherBound="178.79">
                                                        <om:Property Name="MessageRef" Value="CreditLimitResponse" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_24" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                </om:Element>
                                                <om:Element Type="MessageRef" OID="6fda6ad1-5d03-4439-900f-d7ab4ac71c2c" ParentLink="Construct_MessageRef" LowerBound="175.55" HigherBound="175.74">
                                                    <om:Property Name="Ref" Value="CreditLimitResponse" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Signal" Value="False" />
                                                </om:Element>
                                            </om:Element>
                                            <om:Element Type="VariableAssignment" OID="56ec757c-a262-4927-883f-100f0ed0d429" ParentLink="Catch_Statement" LowerBound="180.1" HigherBound="185.1">
                                                <om:Property Name="Expression" Value="System.Diagnostics.Trace.WriteLine(&quot;Constructed SAP Response Message&quot;);&#xD;&#xA;&#xD;&#xA;//xd1 = CreditLimitResponse ;&#xD;&#xA;//System.Diagnostics.Trace.Write(&quot;CreditLimitResponse = &quot; + xd1.OuterXml);&#xD;&#xA;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="Trace" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="bcb6269f-e823-436f-8cfd-71a71579f727" ParentLink="ComplexStatement_Statement" LowerBound="188.1" HigherBound="211.1">
                                        <om:Property Name="Expression" Value="endCreditLimitTime = System.DateTime.Now;&#xD;&#xA;creditLimitDuration = endCreditLimitTime.Subtract(beginCreditLimitTime);&#xD;&#xA;&#xD;&#xA;// Create the appropriate BAM milestones...&#xD;&#xA;if (errorCreditLimit)&#xD;&#xA;{&#xD;&#xA;    // Map SAP return code to appropriate descriptions here...&#xD;&#xA;&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackCreditLimitError&#xD;&#xA;       (&#xD;&#xA;           activityID, &#xD;&#xA;           System.Convert.ToInt32(creditLimitDuration.TotalMilliseconds),&#xD;&#xA;           sapReturnCode,&#xD;&#xA;           Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.DecodeSapErrorCodeToDescription(sapReturnCode),&#xD;&#xA;           Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.DecodeSapErrorCodeToSource(sapReturnCode)&#xD;&#xA;       );       &#xD;&#xA;}&#xD;&#xA;else&#xD;&#xA;{&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackCreditLimitSuccess(activityID, &#xD;&#xA;          System.Convert.ToInt32(creditLimitDuration.TotalMilliseconds));&#xD;&#xA;}&#xD;&#xA;" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="CreateBAMMilestone" />
                                        <om:Property Name="Signal" Value="False" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="ParallelBranch" OID="db69bce4-1eab-4000-a2bd-8d4ce59f203c" ParentLink="ReallyComplexStatement_Branch" LowerBound="214.1" HigherBound="292.1">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="ParallelBranch_2" />
                                    <om:Property Name="Signal" Value="False" />
                                    <om:Element Type="VariableAssignment" OID="b1c8d959-0d98-47bb-bd7e-459fe1308efe" ParentLink="ComplexStatement_Statement" LowerBound="214.1" HigherBound="223.1">
                                        <om:Property Name="Expression" Value="ssoTicket = CustomerServiceRequest(BTS.SSOTicket);&#xD;&#xA;&#xD;&#xA;// Save the orginator SID of the incoming request - if the transport of the &#xD;&#xA;// incoming message is SOAP, this would be the sid of the real user sending the&#xD;&#xA;// message, set by IIS/SOAP receive adapter after issuing the SSOTicket.  If the&#xD;&#xA;// transport is MQ, then it is will be the service account.&#xD;&#xA;&#xD;&#xA;originatorSID = CustomerServiceRequest(Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID);&#xD;&#xA;" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="SaveAssignSSOTicket" />
                                        <om:Property Name="Signal" Value="False" />
                                    </om:Element>
                                    <om:Element Type="Construct" OID="85e96c88-a9d9-453e-ae0a-5262afe657ee" ParentLink="ComplexStatement_Statement" LowerBound="223.1" HigherBound="236.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructLastPaymentRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="Transform" OID="21089c4b-bf08-469e-bf30-9fc772892925" ParentLink="ComplexStatement_Statement" LowerBound="226.1" HigherBound="228.1">
                                            <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_LastPaymentRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="CreateLastPaymentRequest" />
                                            <om:Property Name="Signal" Value="False" />
                                            <om:Element Type="MessagePartRef" OID="d4ff49f9-be1a-423a-acb1-338e004a37b4" ParentLink="Transform_InputMessagePartRef" LowerBound="227.161" HigherBound="227.183">
                                                <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_5" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="2b95ccde-2869-4c84-91c8-97818725b68a" ParentLink="Transform_OutputMessagePartRef" LowerBound="227.48" HigherBound="227.66">
                                                <om:Property Name="MessageRef" Value="LastPaymentRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_6" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="MessageAssignment" OID="116fbcee-e496-4a6e-b05b-0aae90c154c8" ParentLink="ComplexStatement_Statement" LowerBound="228.1" HigherBound="233.1">
                                            <om:Property Name="Expression" Value="// Copy the SSO Ticket and the originator SID to the message so SSO can&#xD;&#xA;// happily redeem the ticket later.&#xD;&#xA;LastPaymentRequest(BTS.SSOTicket) = ssoTicket;&#xD;&#xA;LastPaymentRequest(Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID) = originatorSID;&#xD;&#xA;" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="MessageAssignment_1" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="MessageAssignment" OID="015a7f47-fa76-490c-9dde-ea311b05691f" ParentLink="ComplexStatement_Statement" LowerBound="233.1" HigherBound="235.1">
                                            <om:Property Name="Expression" Value="PaymentTrackerWSRequest.LastPaymentRequest = LastPaymentRequest ;" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="CopyToLastPaymentSystemWSRequest" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="78e1b03f-6f22-47e0-a9d1-a21ad74ead24" ParentLink="Construct_MessageRef" LowerBound="224.43" HigherBound="224.61">
                                            <om:Property Name="Ref" Value="LastPaymentRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="002cdbd3-8390-4a7a-beb5-11018793cf37" ParentLink="Construct_MessageRef" LowerBound="224.63" HigherBound="224.86">
                                            <om:Property Name="Ref" Value="PaymentTrackerWSRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="39967bb6-4dd3-4453-b118-99546b29931c" ParentLink="ComplexStatement_Statement" LowerBound="236.1" HigherBound="238.1">
                                        <om:Property Name="Expression" Value="beginLastPaymentTime = System.DateTime.Now;" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="AssignBeginTime" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                    <om:Element Type="Send" OID="86e01136-5dc3-4cdb-ba81-5b436c87a245" ParentLink="ComplexStatement_Statement" LowerBound="238.1" HigherBound="240.1">
                                        <om:Property Name="PortName" Value="PaymentTrackingSystemRequestResponsePort" />
                                        <om:Property Name="MessageName" Value="PaymentTrackerWSRequest" />
                                        <om:Property Name="OperationName" Value="GetLastPayments" />
                                        <om:Property Name="OperationMessageName" Value="Request" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="SendRequestToPaymentTrackingSystem" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                    <om:Element Type="Scope" OID="5a206961-de8c-4593-a0ee-9bbc31cd64fc" ParentLink="ComplexStatement_Statement" LowerBound="240.1" HigherBound="273.1">
                                        <om:Property Name="InitializedTransactionType" Value="True" />
                                        <om:Property Name="IsSynchronized" Value="False" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="PaymentTrackingTimeoutDetectionScope" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="Receive" OID="53a8c1fb-5e5b-4409-9152-b5dcdf23bb41" ParentLink="ComplexStatement_Statement" LowerBound="245.1" HigherBound="247.1">
                                            <om:Property Name="Activate" Value="False" />
                                            <om:Property Name="PortName" Value="PaymentTrackingSystemRequestResponsePort" />
                                            <om:Property Name="MessageName" Value="PaymentTrackerWSResponse" />
                                            <om:Property Name="OperationName" Value="GetLastPayments" />
                                            <om:Property Name="OperationMessageName" Value="Response" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ReceiveResponseFromPaymentTrackingSystem" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="Construct" OID="d0429298-59a6-4194-ab5f-825810bdbbc4" ParentLink="ComplexStatement_Statement" LowerBound="247.1" HigherBound="253.1">
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="RetrievePaymentTrackingResults" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="MessageAssignment" OID="cc674f84-88ee-4692-b5fd-12ceb490ddd7" ParentLink="ComplexStatement_Statement" LowerBound="250.1" HigherBound="252.1">
                                                <om:Property Name="Expression" Value="LastPaymentResponse = PaymentTrackerWSResponse.GetLastPaymentsResult;" />
                                                <om:Property Name="ReportToAnalyst" Value="False" />
                                                <om:Property Name="Name" Value="RetrieveResponse" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="MessageRef" OID="e2faa0d3-d02f-45ad-878f-da2c7b98edfd" ParentLink="Construct_MessageRef" LowerBound="248.51" HigherBound="248.70">
                                                <om:Property Name="Ref" Value="LastPaymentResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="VariableAssignment" OID="2db9b3da-2100-4802-bf11-629a060fc22d" ParentLink="ComplexStatement_Statement" LowerBound="253.1" HigherBound="256.1">
                                            <om:Property Name="Expression" Value="// Check for errors&#xD;&#xA;errorLastPayments = LastPaymentResponse.ResponseStatus.Error.ErrorNumber != &quot;0000&quot;;&#xD;&#xA;" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ExamineForError" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Catch" OID="7c783c70-a719-4050-9f67-ae55aebbed36" ParentLink="Scope_Catch" LowerBound="259.1" HigherBound="271.1">
                                            <om:Property Name="ExceptionName" Value="PaymentTrackingTimeoutException" />
                                            <om:Property Name="ExceptionType" Value="Microsoft.XLANGs.BaseTypes.TimeoutException" />
                                            <om:Property Name="IsFaultMessage" Value="False" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="PaymentTrackingTimeoutHandler" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="VariableAssignment" OID="f2aff78b-eae2-464b-a90e-ab385b65070b" ParentLink="Catch_Statement" LowerBound="262.1" HigherBound="264.1">
                                                <om:Property Name="Expression" Value="errorLastPayments = true;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="AssignTimeoutError" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="Construct" OID="c6ac8d1d-a8a2-473d-b588-d9c8b24104fe" ParentLink="Catch_Statement" LowerBound="264.1" HigherBound="270.1">
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="AssembleResponseMessageWithError" />
                                                <om:Property Name="Signal" Value="True" />
                                                <om:Element Type="Transform" OID="7dfaa9cc-e408-4d4e-9672-71f773885f54" ParentLink="ComplexStatement_Statement" LowerBound="267.1" HigherBound="269.1">
                                                    <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_LastPaymentResponseTimeout" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Name" Value="CreateLastPaymentResponse" />
                                                    <om:Property Name="Signal" Value="False" />
                                                    <om:Element Type="MessagePartRef" OID="ddf72425-3471-4ec2-97ac-19a38c982a5a" ParentLink="Transform_InputMessagePartRef" LowerBound="268.182" HigherBound="268.204">
                                                        <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_21" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                    <om:Element Type="MessagePartRef" OID="28b67517-3ca1-457a-9dd1-204c2b65eac4" ParentLink="Transform_OutputMessagePartRef" LowerBound="268.60" HigherBound="268.79">
                                                        <om:Property Name="MessageRef" Value="LastPaymentResponse" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_22" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                </om:Element>
                                                <om:Element Type="MessageRef" OID="917752bd-4572-4829-9796-aa81debd5d0d" ParentLink="Construct_MessageRef" LowerBound="265.55" HigherBound="265.74">
                                                    <om:Property Name="Ref" Value="LastPaymentResponse" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Signal" Value="False" />
                                                </om:Element>
                                            </om:Element>
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="df258746-f679-45c1-9fd7-7a059cc81f2e" ParentLink="ComplexStatement_Statement" LowerBound="273.1" HigherBound="292.1">
                                        <om:Property Name="Expression" Value="// Calculate the response time&#xD;&#xA;endLastPaymentTime = System.DateTime.Now;&#xD;&#xA;lastPaymentDuration = endLastPaymentTime.Subtract(beginLastPaymentTime);&#xD;&#xA;&#xD;&#xA;// Create the BAM milestones...&#xD;&#xA;if (errorLastPayments)&#xD;&#xA;{&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackLastPaymentError(activityID, &#xD;&#xA;           System.Convert.ToInt32(lastPaymentDuration.TotalMilliseconds), &#xD;&#xA;           LastPaymentResponse.ResponseStatus.Error.ErrorNumber, &#xD;&#xA;           LastPaymentResponse.ResponseStatus.Error.ErrorDescription,&#xD;&#xA;           LastPaymentResponse.ResponseStatus.Error.ErrorSource);&#xD;&#xA;}&#xD;&#xA;else&#xD;&#xA;{&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackLastPaymentSuccess(activityID, &#xD;&#xA;          System.Convert.ToInt32(lastPaymentDuration.TotalMilliseconds));&#xD;&#xA;}" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="CreateBAMMilestones" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="ParallelBranch" OID="b76c5285-8e1f-4305-8994-53a942bf5589" ParentLink="ReallyComplexStatement_Branch" LowerBound="295.1" HigherBound="360.1">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="ParallelBranch_3" />
                                    <om:Property Name="Signal" Value="False" />
                                    <om:Element Type="Construct" OID="53076f8f-e094-4afb-a6f3-e554bc32f6da" ParentLink="ComplexStatement_Statement" LowerBound="295.1" HigherBound="303.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructPendingTransactionsRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="Transform" OID="f32c0473-d005-4979-b207-48bb0e8cb8d3" ParentLink="ComplexStatement_Statement" LowerBound="298.1" HigherBound="300.1">
                                            <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_PendingTransactionsRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="CreatePendingTransactionsRequest" />
                                            <om:Property Name="Signal" Value="False" />
                                            <om:Element Type="MessagePartRef" OID="6a4d1680-2c15-4e9b-ab9e-3d0374720b15" ParentLink="Transform_InputMessagePartRef" LowerBound="299.177" HigherBound="299.199">
                                                <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_7" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="0c24c623-bd79-4aea-86e6-013387467dae" ParentLink="Transform_OutputMessagePartRef" LowerBound="299.48" HigherBound="299.74">
                                                <om:Property Name="MessageRef" Value="PendingTransactionsRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_8" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="MessageAssignment" OID="645a5e72-2df4-49ea-a781-0270a6d7f1f7" ParentLink="ComplexStatement_Statement" LowerBound="300.1" HigherBound="302.1">
                                            <om:Property Name="Expression" Value="PendingTransactionsWSRequest.PendingTransactionsRequest = PendingTransactionsRequest;" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="CopyToWebServiceRequest" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="1dd85c68-e50b-4f39-b6d0-59990250431e" ParentLink="Construct_MessageRef" LowerBound="296.43" HigherBound="296.71">
                                            <om:Property Name="Ref" Value="PendingTransactionsWSRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="MessageRef" OID="ef4f65c3-dcb3-4e4a-bf98-010c6b178bd6" ParentLink="Construct_MessageRef" LowerBound="296.73" HigherBound="296.99">
                                            <om:Property Name="Ref" Value="PendingTransactionsRequest" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="af03458c-6b94-4f7c-b103-54cd64e601d7" ParentLink="ComplexStatement_Statement" LowerBound="303.1" HigherBound="305.1">
                                        <om:Property Name="Expression" Value="beginPendingTransTime = System.DateTime.Now;" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="AssignBeginTime" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                    <om:Element Type="Send" OID="bc6af274-e8e5-4249-8a0b-e8c00fb780bc" ParentLink="ComplexStatement_Statement" LowerBound="305.1" HigherBound="307.1">
                                        <om:Property Name="PortName" Value="PendingTransactionSystemRequestResponsePort" />
                                        <om:Property Name="MessageName" Value="PendingTransactionsWSRequest" />
                                        <om:Property Name="OperationName" Value="GetPendingTransactions" />
                                        <om:Property Name="OperationMessageName" Value="Request" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="SendPendingTransactionsRequest" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                    <om:Element Type="Scope" OID="69464241-6ff7-4f4e-bf22-7f3ebdab9a29" ParentLink="ComplexStatement_Statement" LowerBound="307.1" HigherBound="342.1">
                                        <om:Property Name="InitializedTransactionType" Value="True" />
                                        <om:Property Name="IsSynchronized" Value="False" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="PendTransTimeoutDetectionScope" />
                                        <om:Property Name="Signal" Value="False" />
                                        <om:Element Type="LongRunningTransaction" OID="0ff7b4be-9f88-41b6-8664-11669dcd0a3f" ParentLink="Scope_Transaction" LowerBound="308.38" HigherBound="308.156">
                                            <om:Property Name="TimeoutExpression" Value="new System.TimeSpan(0, 0, 0, 0, pendTransTimeout)" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ReceivePendTransResponseWithTimeout" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Receive" OID="f97bc638-6254-4a81-81c0-0a9c86dd8072" ParentLink="ComplexStatement_Statement" LowerBound="312.1" HigherBound="314.1">
                                            <om:Property Name="Activate" Value="False" />
                                            <om:Property Name="PortName" Value="PendingTransactionSystemRequestResponsePort" />
                                            <om:Property Name="MessageName" Value="PendingTransactionsWSResponse" />
                                            <om:Property Name="OperationName" Value="GetPendingTransactions" />
                                            <om:Property Name="OperationMessageName" Value="Response" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ReceivePendingTransactionResponse" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="Construct" OID="3b2fbc6c-59bc-4295-bc57-fbac85bed077" ParentLink="ComplexStatement_Statement" LowerBound="314.1" HigherBound="320.1">
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="RetrievePendingTransactionResults" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="MessageAssignment" OID="bb36c824-85c4-4f91-b31a-442c777b3f90" ParentLink="ComplexStatement_Statement" LowerBound="317.1" HigherBound="319.1">
                                                <om:Property Name="Expression" Value="PendingTransactionsResponse = PendingTransactionsWSResponse.GetPendingTransactionsResult;" />
                                                <om:Property Name="ReportToAnalyst" Value="False" />
                                                <om:Property Name="Name" Value="RetrieveResponseFromWebServiceResponse" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="MessageRef" OID="f3697c18-b414-4d95-8c88-5903ffde5208" ParentLink="Construct_MessageRef" LowerBound="315.51" HigherBound="315.78">
                                                <om:Property Name="Ref" Value="PendingTransactionsResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                        <om:Element Type="VariableAssignment" OID="a64e6d71-9d08-48cb-b0b1-d485a932b75c" ParentLink="ComplexStatement_Statement" LowerBound="320.1" HigherBound="323.1">
                                            <om:Property Name="Expression" Value="// Error if the error code is not 0000&#xD;&#xA;errorPendingTransactions = PendingTransactionsResponse.ResponseStatus.Error.ErrorNumber != &quot;0000&quot;;&#xD;&#xA;" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="ExamineForErrors" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                        <om:Element Type="Catch" OID="e790e9e0-69c4-49e5-909a-3a0dfb32a46f" ParentLink="Scope_Catch" LowerBound="326.1" HigherBound="340.1">
                                            <om:Property Name="ExceptionName" Value="pendTransTimeoutException" />
                                            <om:Property Name="ExceptionType" Value="Microsoft.XLANGs.BaseTypes.TimeoutException" />
                                            <om:Property Name="IsFaultMessage" Value="False" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="PendTransTimeoutHandler" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="VariableAssignment" OID="42329370-a3cb-4552-b481-1a2fcb0ab105" ParentLink="Catch_Statement" LowerBound="329.1" HigherBound="331.1">
                                                <om:Property Name="Expression" Value="errorPendingTransactions = true;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="AssignTimeoutError" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="VariableAssignment" OID="66b2f087-ea3d-428c-9528-f8687c026db6" ParentLink="Catch_Statement" LowerBound="331.1" HigherBound="333.1">
                                                <om:Property Name="Expression" Value="System.Diagnostics.Trace.WriteLine(&quot;Timeout from the Pending Transactions Web Service&quot;);&#xD;&#xA;" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="Trace" />
                                                <om:Property Name="Signal" Value="True" />
                                            </om:Element>
                                            <om:Element Type="Construct" OID="afc97035-eea2-4477-91bb-79bf059a2651" ParentLink="Catch_Statement" LowerBound="333.1" HigherBound="339.1">
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="ConstructPendTransRespWithTimeoutError" />
                                                <om:Property Name="Signal" Value="True" />
                                                <om:Element Type="MessageRef" OID="20373a6a-4b1b-48b3-86d2-fe4ec23a6ac7" ParentLink="Construct_MessageRef" LowerBound="334.55" HigherBound="334.82">
                                                    <om:Property Name="Ref" Value="PendingTransactionsResponse" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Signal" Value="False" />
                                                </om:Element>
                                                <om:Element Type="Transform" OID="44b4cb65-05bc-430e-9a4f-c55e5aa36d50" ParentLink="ComplexStatement_Statement" LowerBound="336.1" HigherBound="338.1">
                                                    <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_PendingTransactionResponse" />
                                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                                    <om:Property Name="Name" Value="CreatePendTransRespWithTimeoutError" />
                                                    <om:Property Name="Signal" Value="True" />
                                                    <om:Element Type="MessagePartRef" OID="e5ca2c04-9b10-494f-9345-e002d741e367" ParentLink="Transform_InputMessagePartRef" LowerBound="337.190" HigherBound="337.212">
                                                        <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_25" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                    <om:Element Type="MessagePartRef" OID="3c671b17-e251-4623-97fb-7fb37eb47e81" ParentLink="Transform_OutputMessagePartRef" LowerBound="337.60" HigherBound="337.87">
                                                        <om:Property Name="MessageRef" Value="PendingTransactionsResponse" />
                                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                                        <om:Property Name="Name" Value="MessagePartReference_26" />
                                                        <om:Property Name="Signal" Value="False" />
                                                    </om:Element>
                                                </om:Element>
                                            </om:Element>
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="5436e432-f22a-4a90-a013-7837308e5ae8" ParentLink="ComplexStatement_Statement" LowerBound="342.1" HigherBound="360.1">
                                        <om:Property Name="Expression" Value="endPendingTransTime = System.DateTime.Now;&#xD;&#xA;pendingTransDuration = endPendingTransTime.Subtract(beginPendingTransTime);&#xD;&#xA;&#xD;&#xA;// Create the BAM milestones...&#xD;&#xA;if (errorPendingTransactions)&#xD;&#xA;{&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackPendingTransactionsError(activityID, &#xD;&#xA;           System.Convert.ToInt32(pendingTransDuration.TotalMilliseconds), &#xD;&#xA;           PendingTransactionsResponse.ResponseStatus.Error.ErrorNumber,&#xD;&#xA;           PendingTransactionsResponse.ResponseStatus.Error.ErrorDescription,&#xD;&#xA;           PendingTransactionsResponse.ResponseStatus.Error.ErrorSource);&#xD;&#xA;}&#xD;&#xA;else&#xD;&#xA;{&#xD;&#xA;    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackPendingTransactionsSuccess(activityID, &#xD;&#xA;          System.Convert.ToInt32(pendingTransDuration.TotalMilliseconds));&#xD;&#xA;}" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="CreateBAMMilestones" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Decision" OID="8f28fe58-ede9-428b-9684-19829e13ff0d" ParentLink="ComplexStatement_Statement" LowerBound="362.1" HigherBound="393.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="CheckErrorAndAggregate" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="DecisionBranch" OID="d8175eed-f72b-4a85-aaad-c9ab7bddab71" ParentLink="ReallyComplexStatement_Branch" LowerBound="363.25" HigherBound="378.1">
                                    <om:Property Name="Expression" Value="errorCreditLimit || errorLastPayments  || errorPendingTransactions " />
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Error" />
                                    <om:Property Name="Signal" Value="True" />
                                    <om:Element Type="Construct" OID="016c0163-d398-4209-8dff-de0635ee5eb6" ParentLink="ComplexStatement_Statement" LowerBound="365.1" HigherBound="371.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructCustomerServiceErrorResponse" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="MessageRef" OID="60166632-e821-4ef4-9066-d15674601cc7" ParentLink="Construct_MessageRef" LowerBound="366.39" HigherBound="366.62">
                                            <om:Property Name="Ref" Value="CustomerServiceResponse" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Transform" OID="ba8919a6-451e-4738-90e2-b103e814a49c" ParentLink="ComplexStatement_Statement" LowerBound="368.1" HigherBound="370.1">
                                            <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.Aggregate_To_ErrorResponse" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="AggregateErrorResponse" />
                                            <om:Property Name="Signal" Value="False" />
                                            <om:Element Type="MessagePartRef" OID="785c282d-4b7d-4bbd-839a-bffeb1cffbe5" ParentLink="Transform_InputMessagePartRef" LowerBound="369.144" HigherBound="369.166">
                                                <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_14" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="cd766c8d-2da4-438d-9948-1151c7444ffd" ParentLink="Transform_InputMessagePartRef" LowerBound="369.168" HigherBound="369.187">
                                                <om:Property Name="MessageRef" Value="CreditLimitResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_15" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="8c22b646-2428-495a-b530-e5d065f623d1" ParentLink="Transform_InputMessagePartRef" LowerBound="369.189" HigherBound="369.208">
                                                <om:Property Name="MessageRef" Value="LastPaymentResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_16" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="852e0fef-c093-47df-b2bb-efad58263342" ParentLink="Transform_InputMessagePartRef" LowerBound="369.210" HigherBound="369.237">
                                                <om:Property Name="MessageRef" Value="PendingTransactionsResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_18" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="13fd0475-6085-49d0-bc8d-3a3012158575" ParentLink="Transform_OutputMessagePartRef" LowerBound="369.44" HigherBound="369.67">
                                                <om:Property Name="MessageRef" Value="CustomerServiceResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_17" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="1b838a2f-b0ea-469d-bda5-e7bfdb5ad245" ParentLink="ComplexStatement_Statement" LowerBound="371.1" HigherBound="377.1">
                                        <om:Property Name="Expression" Value="endTime = System.DateTime.Now;&#xD;&#xA;&#xD;&#xA;timeTaken = endTime.Subtract(beginTime);&#xD;&#xA;&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteError(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds), CustomerServiceResponse.ResponseStatus.Error.ErrorNumber, CustomerServiceResponse.ResponseStatus.Error.ErrorDescription, CustomerServiceResponse.ResponseStatus.Error.ErrorSource);" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="CreateBAMMilestone" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="DecisionBranch" OID="75ef3875-89ca-42b3-8569-c1ef91a05e6a" ParentLink="ReallyComplexStatement_Branch">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Else" />
                                    <om:Property Name="Signal" Value="False" />
                                    <om:Element Type="Construct" OID="a76878e1-8856-47a7-a191-4fc82bd51560" ParentLink="ComplexStatement_Statement" LowerBound="380.1" HigherBound="386.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="ConstructCustomerServiceResponse" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="MessageRef" OID="1a389471-7cc5-45a0-9682-efb51e6cb1df" ParentLink="Construct_MessageRef" LowerBound="381.39" HigherBound="381.62">
                                            <om:Property Name="Ref" Value="CustomerServiceResponse" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="Transform" OID="2dd1f67c-a7ba-4671-bbf3-719a5833e5ae" ParentLink="ComplexStatement_Statement" LowerBound="383.1" HigherBound="385.1">
                                            <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.Aggregate_To_CustomerServiceResponse" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Name" Value="AggregateCustomerServiceResponse" />
                                            <om:Property Name="Signal" Value="True" />
                                            <om:Element Type="MessagePartRef" OID="f0430459-7c9f-4eb9-8506-416a7ebdc02c" ParentLink="Transform_InputMessagePartRef" LowerBound="384.154" HigherBound="384.176">
                                                <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_9" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="1e772aad-e781-4cdc-bff5-6bc198392ead" ParentLink="Transform_InputMessagePartRef" LowerBound="384.178" HigherBound="384.197">
                                                <om:Property Name="MessageRef" Value="CreditLimitResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_10" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="7a93be9c-09ac-4746-9e38-7bbe9eb96c6d" ParentLink="Transform_InputMessagePartRef" LowerBound="384.199" HigherBound="384.218">
                                                <om:Property Name="MessageRef" Value="LastPaymentResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_11" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="d3264c5c-9322-4432-a3d7-530249e95fc7" ParentLink="Transform_InputMessagePartRef" LowerBound="384.220" HigherBound="384.247">
                                                <om:Property Name="MessageRef" Value="PendingTransactionsResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_12" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                            <om:Element Type="MessagePartRef" OID="3e2ddef3-03eb-4264-bfaa-c7317310dc26" ParentLink="Transform_OutputMessagePartRef" LowerBound="384.44" HigherBound="384.67">
                                                <om:Property Name="MessageRef" Value="CustomerServiceResponse" />
                                                <om:Property Name="ReportToAnalyst" Value="True" />
                                                <om:Property Name="Name" Value="MessagePartReference_13" />
                                                <om:Property Name="Signal" Value="False" />
                                            </om:Element>
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="VariableAssignment" OID="2b60c131-8c2c-4151-97fc-fedb5992423a" ParentLink="ComplexStatement_Statement" LowerBound="386.1" HigherBound="392.1">
                                        <om:Property Name="Expression" Value="endTime = System.DateTime.Now;&#xD;&#xA;&#xD;&#xA;timeTaken = endTime.Subtract(beginTime);&#xD;&#xA;&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteSuccess(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds));" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="CreateBAMMilestone" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="60048bcd-be0c-497f-aecf-9d7b7a2ce6a0" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="08f742ea-f0e0-4d8b-896b-684731d7bc43" ParentLink="ComplexStatement_Statement" LowerBound="396.1" HigherBound="406.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="ConstructRequestDenied" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="Transform" OID="490182b9-8bd4-4068-8252-cfe99b3af189" ParentLink="ComplexStatement_Statement" LowerBound="399.1" HigherBound="401.1">
                                    <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CustomerServiceResponseDenied" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="CreateRequestDenied" />
                                    <om:Property Name="Signal" Value="False" />
                                    <om:Element Type="MessagePartRef" OID="ef6c2208-a34b-4bae-bca4-0eafa79d59d3" ParentLink="Transform_InputMessagePartRef" LowerBound="400.169" HigherBound="400.191">
                                        <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="MessagePartReference_1" />
                                        <om:Property Name="Signal" Value="False" />
                                    </om:Element>
                                    <om:Element Type="MessagePartRef" OID="b541af6a-0d8a-4ae6-ad0e-c6cac3cfd9b1" ParentLink="Transform_OutputMessagePartRef" LowerBound="400.40" HigherBound="400.63">
                                        <om:Property Name="MessageRef" Value="CustomerServiceResponse" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="MessagePartReference_2" />
                                        <om:Property Name="Signal" Value="False" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="a35ceca6-1e88-49d6-b08c-c376f576aa45" ParentLink="ComplexStatement_Statement" LowerBound="401.1" HigherBound="405.1">
                                    <om:Property Name="Expression" Value="CustomerServiceResponse.ResponseStatus.Error.ErrorNumber = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest ;&#xD;&#xA;CustomerServiceResponse.ResponseStatus.Error.ErrorDescription = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorDescription(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest );&#xD;&#xA;CustomerServiceResponse.ResponseStatus.Error.ErrorSource = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorSource(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest);" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="AssignErrorInformation" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                                <om:Element Type="MessageRef" OID="d308270e-6d3d-4eb1-bb20-f2eb4fe677c6" ParentLink="Construct_MessageRef" LowerBound="397.35" HigherBound="397.58">
                                    <om:Property Name="Ref" Value="CustomerServiceResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="VariableAssignment" OID="eaeb8ca5-7eb3-4186-b697-f817f7ab9786" ParentLink="ComplexStatement_Statement" LowerBound="406.1" HigherBound="412.1">
                                <om:Property Name="Expression" Value="endTime = System.DateTime.Now;&#xD;&#xA;&#xD;&#xA;timeTaken = endTime.Subtract(beginTime);&#xD;&#xA;&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackInvalidRequest(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds));" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="CreateBAMMielstone" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="e30dba98-c39b-4a4d-b22d-8fadf7e0d5fa" ParentLink="ComplexStatement_Statement" LowerBound="413.1" HigherBound="416.1">
                        <om:Property Name="Expression" Value="// Complete the activity...&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.EndRequest(activityID);" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="EndActivity" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="Catch" OID="14ddda60-0c5a-4b40-9e50-c78bac1f6898" ParentLink="Scope_Catch" LowerBound="419.1" HigherBound="452.1">
                        <om:Property Name="ExceptionName" Value="ex" />
                        <om:Property Name="ExceptionType" Value="System.Exception" />
                        <om:Property Name="IsFaultMessage" Value="False" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="CustomerServiceExceptionHandler" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="Decision" OID="c5c4d04e-05fa-4f35-a823-2f3d539d485d" ParentLink="Catch_Statement" LowerBound="422.1" HigherBound="439.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="checkForActivity" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="DecisionBranch" OID="d0c06d13-2264-440e-8687-620259fd6776" ParentLink="ReallyComplexStatement_Branch" LowerBound="423.25" HigherBound="439.1">
                                <om:Property Name="Expression" Value="activityID != null" />
                                <om:Property Name="IsGhostBranch" Value="True" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Activity Began" />
                                <om:Property Name="Signal" Value="False" />
                                <om:Element Type="VariableAssignment" OID="4c9c0017-bdca-4cda-be07-32b4d96711ac" ParentLink="ComplexStatement_Statement" LowerBound="425.1" HigherBound="438.1">
                                    <om:Property Name="Expression" Value="&#xD;&#xA;// An Exception is treated as an error from the BAM perspective...&#xD;&#xA;&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteError(&#xD;&#xA;                            activityID, &#xD;&#xA;                            0, &#xD;&#xA;                            Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError,&#xD;&#xA;                            ex.Message, &#xD;&#xA;                            &quot;Customer Service Orchestration&quot;&#xD;&#xA;        );&#xD;&#xA;// Complete the activity...&#xD;&#xA;Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.EndRequest(activityID);" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="EndActivityInException" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="DecisionBranch" OID="19adef4e-ad50-430d-a875-79e698dfa121" ParentLink="ReallyComplexStatement_Branch">
                                <om:Property Name="IsGhostBranch" Value="True" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Else" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="VariableAssignment" OID="c4a84fe9-48c4-42bd-bc59-398ed778c745" ParentLink="Catch_Statement" LowerBound="439.1" HigherBound="441.1">
                            <om:Property Name="Expression" Value="System.Diagnostics.Trace.Write(&quot;Exception in Orchestration: &quot; + ex.ToString());" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="TraceException" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                        <om:Element Type="Construct" OID="c5928f37-54e8-4c7e-8ed6-20dff27e150b" ParentLink="Catch_Statement" LowerBound="441.1" HigherBound="451.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="RespondUnderException" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="Transform" OID="59c3d483-4449-424a-b9eb-89ec28bc4b79" ParentLink="ComplexStatement_Statement" LowerBound="444.1" HigherBound="446.1">
                                <om:Property Name="ClassName" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CustomerServiceResponseDenied" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="CreateResponseForException" />
                                <om:Property Name="Signal" Value="False" />
                                <om:Element Type="MessagePartRef" OID="633bc3b6-42e0-43c1-9096-72c4b1c9aa39" ParentLink="Transform_InputMessagePartRef" LowerBound="445.169" HigherBound="445.191">
                                    <om:Property Name="MessageRef" Value="CustomerServiceRequest" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="MessagePartReference_19" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessagePartRef" OID="6b69961c-49c7-4648-87dd-d915f7642bee" ParentLink="Transform_OutputMessagePartRef" LowerBound="445.40" HigherBound="445.63">
                                    <om:Property Name="MessageRef" Value="CustomerServiceResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="MessagePartReference_20" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="MessageAssignment" OID="56014054-2e86-47ee-b5a5-c93cdcffd500" ParentLink="ComplexStatement_Statement" LowerBound="446.1" HigherBound="450.1">
                                <om:Property Name="Expression" Value="CustomerServiceResponse.ResponseStatus.Error.ErrorNumber = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError;&#xD;&#xA;CustomerServiceResponse.ResponseStatus.Error.ErrorDescription = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorDescription(ex);&#xD;&#xA;CustomerServiceResponse.ResponseStatus.Error.ErrorSource = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorSource(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError);" />
                                <om:Property Name="ReportToAnalyst" Value="False" />
                                <om:Property Name="Name" Value="AssignErrorInfo" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessageRef" OID="2718da25-bdb4-47f1-87ce-cfddd40dadfe" ParentLink="Construct_MessageRef" LowerBound="442.35" HigherBound="442.58">
                                <om:Property Name="Ref" Value="CustomerServiceResponse" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                    </om:Element>
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="cebaa5e1-d964-4e73-b768-c01e06a88c84" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="7.1" HigherBound="9.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="30" />
                <om:Property Name="IsWebPort" Value="True" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPendTransWS.StubPendingTransactionsWebService_.StubPendingTransactionsWebService" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PendingTransactionSystemRequestResponsePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="606d2dea-c46c-426a-abe3-49f846bf881e" ParentLink="PortDeclaration_CLRAttribute" LowerBound="7.1" HigherBound="8.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="91253f4b-a677-4696-8002-5dc32f688ef4" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="9.1" HigherBound="11.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="53" />
                <om:Property Name="IsWebPort" Value="True" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubSAPWS.StubSAPWS_.StubSAPWS" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="SAPSystemRequestResponsePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="ec9ec77d-fe01-45ac-8279-b019b429f66a" ParentLink="PortDeclaration_CLRAttribute" LowerBound="9.1" HigherBound="10.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="5d0c69ac-89e1-402e-82e1-66ca5f58a7d4" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="11.1" HigherBound="13.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="92" />
                <om:Property Name="IsWebPort" Value="True" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed.StubPmntTrckWS.StubPaymentTrackerWebService_.StubPaymentTrackerWebService" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="PaymentTrackingSystemRequestResponsePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="a44a0690-2354-488a-8a55-2dc9e6c17fdc" ParentLink="PortDeclaration_CLRAttribute" LowerBound="11.1" HigherBound="12.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
        </om:Element>
    </om:Element>
</om:MetaModel>
#endif // __DESIGNER_DATA
[Microsoft.XLANGs.BaseTypes.BPELExportable(false)]
module Microsoft.Samples.BizTalk.WoodgroveBank.Orchestrations.Stubbed
{
    [Microsoft.XLANGs.BaseTypes.BPELExportable(false)]
    internal service longrunning transaction CustomerService
    {
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses StubPendTransWS.StubPendingTransactionsWebService_.StubPendingTransactionsWebService PendingTransactionSystemRequestResponsePort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses StubSAPWS.StubSAPWS_.StubSAPWS SAPSystemRequestResponsePort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses StubPmntTrckWS.StubPaymentTrackerWebService_.StubPaymentTrackerWebService PaymentTrackingSystemRequestResponsePort;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.LastPaymentRequest LastPaymentRequest;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.LastPaymentResponse LastPaymentResponse;
        message StubPendTransWS.StubPendingTransactionsWebService_.GetPendingTransactions_request PendingTransactionsWSRequest;
        message StubPendTransWS.StubPendingTransactionsWebService_.GetPendingTransactions_response PendingTransactionsWSResponse;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.BAPI_BANKACCT_GET_DETAIL.BAPI_BANKACCT_GET_DETAIL_Request CreditLimitRequest;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.BAPI_BANKACCT_GET_DETAIL.BAPI_BANKACCT_GET_DETAIL_Response CreditLimitResponse;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.PendingTransactionsRequest PendingTransactionsRequest;
        message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.PendingTransactionsResponse PendingTransactionsResponse;
        message StubPmntTrckWS.StubPaymentTrackerWebService_.GetLastPayments_request PaymentTrackerWSRequest;
        message StubPmntTrckWS.StubPaymentTrackerWebService_.GetLastPayments_response PaymentTrackerWSResponse;
        message StubSAPWS.StubSAPWS_.GetAccountDetails_request StubSAPWSRequest;
        message StubSAPWS.StubSAPWS_.GetAccountDetails_response StubSAPWSResponse;
        System.String accountNumber;
        System.String customerName;
        System.String zipCode;
        System.Boolean RequestIsValid;
        System.String ssoTicket;
        System.Boolean errorLastPayments;
        System.Boolean errorPendingTransactions;
        System.Boolean errorCreditLimit;
        System.DateTime beginCreditLimitTime;
        System.DateTime endCreditLimitTime;
        System.DateTime beginLastPaymentTime;
        System.DateTime endLastPaymentTime;
        System.DateTime beginPendingTransTime;
        System.DateTime endPendingTransTime;
        System.TimeSpan creditLimitDuration;
        System.TimeSpan lastPaymentDuration;
        System.TimeSpan pendingTransDuration;
        System.String activityID;
        System.DateTime beginTime;
        System.DateTime endTime;
        System.TimeSpan timeTaken;
        System.String originatorSID;
        System.String sapReturnCode;
        System.Int32 sapTimeout;
        System.Int32 pendTransTimeout;
        System.Int32 pmntTrackTimeout;
        body (message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceRequest CustomerServiceRequest, out message Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceResponse CustomerServiceResponse)
        {
            accountNumber = "";
            customerName = "";
            zipCode = "";
            RequestIsValid = true;
            ssoTicket = "";
            errorLastPayments = true;
            errorPendingTransactions = true;
            errorCreditLimit = true;
            activityID = "";
            originatorSID = "";
            sapReturnCode = "";
            [Microsoft.XLANGs.BaseTypes.DesignerPosition("fd1b8c03-9639-45f2-a5d8-4ec620f6f729")]
            scope longrunning transaction CustomerServiceTransaction
            {
                body
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("1be60852-ac5a-451f-8512-48e7b37bf9a8")]
                    // Begin the BAM activity
                    
                    activityID = Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.BeginRequest(CustomerServiceRequest.RequestSource, CustomerServiceRequest.RequestType);
                    
                    // Save starting time for later computing response times...
                    beginTime = System.DateTime.Now;
                    
                    // Request Received Milestone
                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestReceived(activityID);
                            
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("130f66ca-1ac6-4b47-b0a7-ae2875d2ff1c")]
                    sapTimeout = System.Convert.ToInt32 (
                            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(
                                Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.SapAdapterTimeout),
                            System.Globalization.CultureInfo.CurrentCulture);
                    pendTransTimeout = System.Convert.ToInt32(
                            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(
                                Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.PendingTransactionsAdapterTimeout),
                            System.Globalization.CultureInfo.CurrentCulture);
                    pmntTrackTimeout = System.Convert.ToInt32(
                            Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.GetConfigParameter(
                                Microsoft.Samples.BizTalk.WoodgroveBank.ConfigHelper.ConfigParameters.SsoConfigParameter.PaymentTrackingAdapterTimeout),
                            System.Globalization.CultureInfo.CurrentCulture);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("618154cb-f61d-4a73-8ab5-064e94804239")]
                    // Validate the input request based on the contents of the AuthenticationInfo element.
                    // The AuthenticationInfo elements contains name/value pairs for authenticating the customer
                    // We must either have a ZipCode or a CustomerName to declare that this a valid request.
                    // Validating the message based on the contents of the request is done in one or more
                    // of the back end systems...
                    
                    customerName  = (System.String) xpath(CustomerServiceRequest, 
                    "string(/*[local-name()='CustomerServiceRequest']/*[local-name()='Body']/*[local-name()='AuthenticationInfo'][DataElementName='CustomerName']/*[local-name()='DataElementValue'])");
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("60cf248e-f3e1-4140-8206-cf7a44606e1f")]
                    //Get the zipCode out of the message...
                    
                    zipCode = (System.String) xpath(CustomerServiceRequest, 
                    "string(/*[local-name()='CustomerServiceRequest']/*[local-name()='Body']/*[local-name()='AuthenticationInfo'][DataElementName='ZipCode']/*[local-name()='DataElementValue'])");
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("26e8e375-203e-4aad-95a7-fc9dcbb7db90")]
                    //Get the Account Number out of the message...
                    
                    accountNumber = CustomerServiceRequest.Body.AccountNumber;
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("38ded481-39cf-494e-b7eb-4c7bcb85d0f2")]
                    // One of the authentication values must be there in the message in order to proceed
                    // And the account number must be there also.
                    // And the account number must be valid...
                    RequestIsValid = (zipCode != "" || customerName != "") && 
                                        accountNumber != "" &&
                                        Microsoft.Samples.BizTalk.WoodgroveBank.Utilities.CustomerServiceHelper.IsAccountNumberValid(accountNumber) ;
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("a906930a-c276-4e60-8dee-82e85786f2bb")]
                    if (RequestIsValid )
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("fa8184fc-286c-4670-916a-11e9f805a7f5")]
                        parallel
                        {
                            task
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("e5169b60-24d6-4885-af33-74d9102ed252")]
                                construct CreditLimitRequest
                                {
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("cb744ab2-e9b3-4b23-9c31-587adb18ce5c")]
                                    transform (CreditLimitRequest) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CreditLimiRequest (CustomerServiceRequest);
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("2afe7bce-0978-49fe-b1be-cd744645d460")]
                                beginCreditLimitTime = System.DateTime.Now;
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("eeab6cdd-909e-4862-90e7-a26c618d2925")]
                                construct StubSAPWSRequest
                                {
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("0a8352a7-3a14-4ac6-bdc0-9ad34bbc6391")]
                                    StubSAPWSRequest.BAPI_BANKACCT_GET_DETAIL_Request = CreditLimitRequest;
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("8661661c-ee61-4718-868a-64f00a60960d")]
                                send (SAPSystemRequestResponsePort.GetAccountDetails, StubSAPWSRequest);
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("ba9f57c2-44d7-4eff-88dd-7fca8f0b19a7")]
                                scope longrunning transaction ReceiveSAPResponseWithinTime timeout new System.TimeSpan(0, 0, 0, 0, sapTimeout )
                                {
                                    body
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("bd87bfd0-ecdd-4f63-9390-b109101bf0b2")]
                                        receive (SAPSystemRequestResponsePort.GetAccountDetails, StubSAPWSResponse);
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("e800a278-dc22-4fb8-9083-68ef2106e139")]
                                        construct CreditLimitResponse
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("e45100d8-d61b-4db4-ac8c-df3e1bb806b6")]
                                            CreditLimitResponse = StubSAPWSResponse.GetAccountDetailsResult;
                                        }
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("cbe12065-a1d1-45ee-8bdd-8ac586ab85bd")]
                                        // Examine the SAP return code
                                        
                                        sapReturnCode = (System.String) xpath(CreditLimitResponse, 
                                        "string(/*[local-name()='BAPI_BANKACCT_GET_DETAIL_Response']/*[local-name()='E_RC'])");
                                        
                                        errorCreditLimit = sapReturnCode != "";
                                    }
                                    exceptions
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("4a269b78-ebe2-44e2-802c-255f0f38ef94")]
                                        catch (Microsoft.XLANGs.BaseTypes.TimeoutException sapTimeoutException)
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("806b0e50-c920-4416-aada-c4b32c6028e2")]
                                            errorCreditLimit = true;
                                            
                                            sapReturnCode = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.SapTimeoutErrorCode() ;
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("e98d186c-5480-4047-9e14-9cd9c559af67")]
                                            System.Diagnostics.Trace.WriteLine("Timeout from SAP");
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("ce80b779-0457-4dc7-839a-2927743656e0")]
                                            construct CreditLimitResponse
                                            {
                                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("26da375a-e313-43e7-86ca-bbbaed50b7a3")]
                                                transform (CreditLimitResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CreditLimitResponse (CustomerServiceRequest);
                                            }
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("56ec757c-a262-4927-883f-100f0ed0d429")]
                                            System.Diagnostics.Trace.WriteLine("Constructed SAP Response Message");
                                            
                                            //xd1 = CreditLimitResponse ;
                                            //System.Diagnostics.Trace.Write("CreditLimitResponse = " + xd1.OuterXml);
                                        }
                                    }
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("bcb6269f-e823-436f-8cfd-71a71579f727")]
                                endCreditLimitTime = System.DateTime.Now;
                                creditLimitDuration = endCreditLimitTime.Subtract(beginCreditLimitTime);
                                
                                // Create the appropriate BAM milestones...
                                if (errorCreditLimit)
                                {
                                    // Map SAP return code to appropriate descriptions here...
                                
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackCreditLimitError
                                       (
                                           activityID, 
                                           System.Convert.ToInt32(creditLimitDuration.TotalMilliseconds),
                                           sapReturnCode,
                                           Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.DecodeSapErrorCodeToDescription(sapReturnCode),
                                           Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.DecodeSapErrorCodeToSource(sapReturnCode)
                                       );       
                                }
                                else
                                {
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackCreditLimitSuccess(activityID, 
                                          System.Convert.ToInt32(creditLimitDuration.TotalMilliseconds));
                                }
                            }
                            task
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("b1c8d959-0d98-47bb-bd7e-459fe1308efe")]
                                ssoTicket = CustomerServiceRequest(BTS.SSOTicket);
                                
                                // Save the orginator SID of the incoming request - if the transport of the 
                                // incoming message is SOAP, this would be the sid of the real user sending the
                                // message, set by IIS/SOAP receive adapter after issuing the SSOTicket.  If the
                                // transport is MQ, then it is will be the service account.
                                
                                originatorSID = CustomerServiceRequest(Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID);
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("85e96c88-a9d9-453e-ae0a-5262afe657ee")]
                                construct LastPaymentRequest, PaymentTrackerWSRequest
                                {
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("21089c4b-bf08-469e-bf30-9fc772892925")]
                                    transform (LastPaymentRequest) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_LastPaymentRequest (CustomerServiceRequest);
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("116fbcee-e496-4a6e-b05b-0aae90c154c8")]
                                    // Copy the SSO Ticket and the originator SID to the message so SSO can
                                    // happily redeem the ticket later.
                                    LastPaymentRequest(BTS.SSOTicket) = ssoTicket;
                                    LastPaymentRequest(Microsoft.BizTalk.XLANGs.BTXEngine.OriginatorSID) = originatorSID;
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("015a7f47-fa76-490c-9dde-ea311b05691f")]
                                    PaymentTrackerWSRequest.LastPaymentRequest = LastPaymentRequest ;
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("39967bb6-4dd3-4453-b118-99546b29931c")]
                                beginLastPaymentTime = System.DateTime.Now;
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("86e01136-5dc3-4cdb-ba81-5b436c87a245")]
                                send (PaymentTrackingSystemRequestResponsePort.GetLastPayments, PaymentTrackerWSRequest);
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("5a206961-de8c-4593-a0ee-9bbc31cd64fc")]
                                scope
                                {
                                    body
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("53a8c1fb-5e5b-4409-9152-b5dcdf23bb41")]
                                        receive (PaymentTrackingSystemRequestResponsePort.GetLastPayments, PaymentTrackerWSResponse);
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("d0429298-59a6-4194-ab5f-825810bdbbc4")]
                                        construct LastPaymentResponse
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("cc674f84-88ee-4692-b5fd-12ceb490ddd7")]
                                            LastPaymentResponse = PaymentTrackerWSResponse.GetLastPaymentsResult;
                                        }
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("2db9b3da-2100-4802-bf11-629a060fc22d")]
                                        // Check for errors
                                        errorLastPayments = LastPaymentResponse.ResponseStatus.Error.ErrorNumber != "0000";
                                    }
                                    exceptions
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("7c783c70-a719-4050-9f67-ae55aebbed36")]
                                        catch (Microsoft.XLANGs.BaseTypes.TimeoutException PaymentTrackingTimeoutException)
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("f2aff78b-eae2-464b-a90e-ab385b65070b")]
                                            errorLastPayments = true;
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("c6ac8d1d-a8a2-473d-b588-d9c8b24104fe")]
                                            construct LastPaymentResponse
                                            {
                                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("7dfaa9cc-e408-4d4e-9672-71f773885f54")]
                                                transform (LastPaymentResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_LastPaymentResponseTimeout (CustomerServiceRequest);
                                            }
                                        }
                                    }
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("df258746-f679-45c1-9fd7-7a059cc81f2e")]
                                // Calculate the response time
                                endLastPaymentTime = System.DateTime.Now;
                                lastPaymentDuration = endLastPaymentTime.Subtract(beginLastPaymentTime);
                                
                                // Create the BAM milestones...
                                if (errorLastPayments)
                                {
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackLastPaymentError(activityID, 
                                           System.Convert.ToInt32(lastPaymentDuration.TotalMilliseconds), 
                                           LastPaymentResponse.ResponseStatus.Error.ErrorNumber, 
                                           LastPaymentResponse.ResponseStatus.Error.ErrorDescription,
                                           LastPaymentResponse.ResponseStatus.Error.ErrorSource);
                                }
                                else
                                {
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackLastPaymentSuccess(activityID, 
                                          System.Convert.ToInt32(lastPaymentDuration.TotalMilliseconds));
                                }
                            }
                            task
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("53076f8f-e094-4afb-a6f3-e554bc32f6da")]
                                construct PendingTransactionsWSRequest, PendingTransactionsRequest
                                {
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("f32c0473-d005-4979-b207-48bb0e8cb8d3")]
                                    transform (PendingTransactionsRequest) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_PendingTransactionsRequest (CustomerServiceRequest);
                                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("645a5e72-2df4-49ea-a781-0270a6d7f1f7")]
                                    PendingTransactionsWSRequest.PendingTransactionsRequest = PendingTransactionsRequest;
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("af03458c-6b94-4f7c-b103-54cd64e601d7")]
                                beginPendingTransTime = System.DateTime.Now;
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("bc6af274-e8e5-4249-8a0b-e8c00fb780bc")]
                                send (PendingTransactionSystemRequestResponsePort.GetPendingTransactions, PendingTransactionsWSRequest);
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("69464241-6ff7-4f4e-bf22-7f3ebdab9a29")]
                                scope longrunning transaction ReceivePendTransResponseWithTimeout timeout new System.TimeSpan(0, 0, 0, 0, pendTransTimeout)
                                {
                                    body
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("f97bc638-6254-4a81-81c0-0a9c86dd8072")]
                                        receive (PendingTransactionSystemRequestResponsePort.GetPendingTransactions, PendingTransactionsWSResponse);
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("3b2fbc6c-59bc-4295-bc57-fbac85bed077")]
                                        construct PendingTransactionsResponse
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("bb36c824-85c4-4f91-b31a-442c777b3f90")]
                                            PendingTransactionsResponse = PendingTransactionsWSResponse.GetPendingTransactionsResult;
                                        }
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("a64e6d71-9d08-48cb-b0b1-d485a932b75c")]
                                        // Error if the error code is not 0000
                                        errorPendingTransactions = PendingTransactionsResponse.ResponseStatus.Error.ErrorNumber != "0000";
                                    }
                                    exceptions
                                    {
                                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("e790e9e0-69c4-49e5-909a-3a0dfb32a46f")]
                                        catch (Microsoft.XLANGs.BaseTypes.TimeoutException pendTransTimeoutException)
                                        {
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("42329370-a3cb-4552-b481-1a2fcb0ab105")]
                                            errorPendingTransactions = true;
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("66b2f087-ea3d-428c-9528-f8687c026db6")]
                                            System.Diagnostics.Trace.WriteLine("Timeout from the Pending Transactions Web Service");
                                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("afc97035-eea2-4477-91bb-79bf059a2651")]
                                            construct PendingTransactionsResponse
                                            {
                                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("44b4cb65-05bc-430e-9a4f-c55e5aa36d50")]
                                                transform (PendingTransactionsResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_PendingTransactionResponse (CustomerServiceRequest);
                                            }
                                        }
                                    }
                                }
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("5436e432-f22a-4a90-a013-7837308e5ae8")]
                                endPendingTransTime = System.DateTime.Now;
                                pendingTransDuration = endPendingTransTime.Subtract(beginPendingTransTime);
                                
                                // Create the BAM milestones...
                                if (errorPendingTransactions)
                                {
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackPendingTransactionsError(activityID, 
                                           System.Convert.ToInt32(pendingTransDuration.TotalMilliseconds), 
                                           PendingTransactionsResponse.ResponseStatus.Error.ErrorNumber,
                                           PendingTransactionsResponse.ResponseStatus.Error.ErrorDescription,
                                           PendingTransactionsResponse.ResponseStatus.Error.ErrorSource);
                                }
                                else
                                {
                                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackPendingTransactionsSuccess(activityID, 
                                          System.Convert.ToInt32(pendingTransDuration.TotalMilliseconds));
                                }
                            }
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("8f28fe58-ede9-428b-9684-19829e13ff0d")]
                        if (errorCreditLimit || errorLastPayments  || errorPendingTransactions )
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("016c0163-d398-4209-8dff-de0635ee5eb6")]
                            construct CustomerServiceResponse
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("ba8919a6-451e-4738-90e2-b103e814a49c")]
                                transform (CustomerServiceResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.Aggregate_To_ErrorResponse (CustomerServiceRequest, CreditLimitResponse, LastPaymentResponse, PendingTransactionsResponse);
                            }
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("1b838a2f-b0ea-469d-bda5-e7bfdb5ad245")]
                            endTime = System.DateTime.Now;
                            
                            timeTaken = endTime.Subtract(beginTime);
                            
                            Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteError(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds), CustomerServiceResponse.ResponseStatus.Error.ErrorNumber, CustomerServiceResponse.ResponseStatus.Error.ErrorDescription, CustomerServiceResponse.ResponseStatus.Error.ErrorSource);
                        }
                        else 
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("a76878e1-8856-47a7-a191-4fc82bd51560")]
                            construct CustomerServiceResponse
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("2dd1f67c-a7ba-4671-bbf3-719a5833e5ae")]
                                transform (CustomerServiceResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.Aggregate_To_CustomerServiceResponse (CustomerServiceRequest, CreditLimitResponse, LastPaymentResponse, PendingTransactionsResponse);
                            }
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("2b60c131-8c2c-4151-97fc-fedb5992423a")]
                            endTime = System.DateTime.Now;
                            
                            timeTaken = endTime.Subtract(beginTime);
                            
                            Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteSuccess(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds));
                        }
                    }
                    else 
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("08f742ea-f0e0-4d8b-896b-684731d7bc43")]
                        construct CustomerServiceResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("490182b9-8bd4-4068-8252-cfe99b3af189")]
                            transform (CustomerServiceResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CustomerServiceResponseDenied (CustomerServiceRequest);
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("a35ceca6-1e88-49d6-b08c-c376f576aa45")]
                            CustomerServiceResponse.ResponseStatus.Error.ErrorNumber = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest ;
                            CustomerServiceResponse.ResponseStatus.Error.ErrorDescription = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorDescription(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest );
                            CustomerServiceResponse.ResponseStatus.Error.ErrorSource = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorSource(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceInvalidRequest);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("eaeb8ca5-7eb3-4186-b697-f817f7ab9786")]
                        endTime = System.DateTime.Now;
                        
                        timeTaken = endTime.Subtract(beginTime);
                        
                        Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackInvalidRequest(activityID, System.Convert.ToInt32(timeTaken.TotalMilliseconds));
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("e30dba98-c39b-4a4d-b22d-8fadf7e0d5fa")]
                    // Complete the activity...
                    Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.EndRequest(activityID);
                }
                exceptions
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("14ddda60-0c5a-4b40-9e50-c78bac1f6898")]
                    catch (System.Exception ex)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("c5c4d04e-05fa-4f35-a823-2f3d539d485d")]
                        if (activityID != null)
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("4c9c0017-bdca-4cda-be07-32b4d96711ac")]
                            
                            // An Exception is treated as an error from the BAM perspective...
                            
                            Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.TrackRequestCompleteError(
                                                        activityID, 
                                                        0, 
                                                        Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError,
                                                        ex.Message, 
                                                        "Customer Service Orchestration"
                                    );
                            // Complete the activity...
                            Microsoft.Samples.BizTalk.WoodgroveBank.ServiceLevelTracking.ServiceLevelTracking.EndRequest(activityID);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("c4a84fe9-48c4-42bd-bc59-398ed778c745")]
                        System.Diagnostics.Trace.Write("Exception in Orchestration: " + ex.ToString());
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("c5928f37-54e8-4c7e-8ed6-20dff27e150b")]
                        construct CustomerServiceResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("59c3d483-4449-424a-b9eb-89ec28bc4b79")]
                            transform (CustomerServiceResponse) = Microsoft.Samples.BizTalk.WoodgroveBank.Maps.CustomerServiceRequest_To_CustomerServiceResponseDenied (CustomerServiceRequest);
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("56014054-2e86-47ee-b5a5-c93cdcffd500")]
                            CustomerServiceResponse.ResponseStatus.Error.ErrorNumber = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError;
                            CustomerServiceResponse.ResponseStatus.Error.ErrorDescription = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorDescription(ex);
                            CustomerServiceResponse.ResponseStatus.Error.ErrorSource = Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.GetCustomerServiceErrorSource(Microsoft.Samples.BizTalk.WoodgroveBank.ErrorHelper.CustomerServiceErrors.CustomerServiceExceptionError);
                        }
                    }
                }
            }
        }
    }
}

